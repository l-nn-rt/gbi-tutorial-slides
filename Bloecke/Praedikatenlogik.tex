
\thasse{
	\begin{frame}{}
		\begin{block} {Aussagenlogik}
			\begin{itemize}
				\item \enquote{Es regnet und alle Vögel sind grau.}
				\item atomar: \enquote{Es regnet.}, \enquote{ Alle Vögel sind grau.}
				\item Diese beiden Aussagen lassen sich ihrerseits nicht in weitere Teilaussagen zerlegen!
			\end{itemize}
		\end{block}
		
		\pause
		\begin{block} {Prädikatenlogik}	
			\begin{itemize}
				\item In der Prädikatenlogik werden atomare Aussagen hinsichtlich ihrer inneren Struktur untersucht.
				\item \enquote{Alle Vögel sind grau}
				\item lässt sich in : \enquote{Alle Vögel}, \enquote{sind grau} zerlegen.
			\end{itemize}
			
		\end{block}
	\end{frame}
}

\section{Prädikatenlogik: Syntax}

\begin{frame}{Syntax}
	\begin{block}{Aufbau von prädikatenlogischen Formeln}
	\begin{itemize}[<+->]
		\item \textbf{Terme}: Liefern \enquote{Werte} (Zahlen, Wörter, whatever...); \\ 
		Aus Konstanten, Variablen und Funktionssymbolen zusammengesetzt.
		\item \textbf{Atomare Formeln}: Liefern Wahrheitswerte $\in \BB$; \\
		 Aus Termen und Relationssymbolen zusammengesetzt.
		\item \textbf{Prädikatenlogische Formeln}: aus atomaren Formeln und AL-Konnektiven sowie Quantoren ($\forall, \exists$) zusammengesetzt. 
	\end{itemize}
	\end{block}
\end{frame}

\begin{frame}{Terme}
	Bestehen aus... \\
	\medskip
	
	\textbf{Variablen} \, (endlich viele) \quad Alphabet $\VPL$ \\
	$\word{x}_i$ \quad $\word x, \word y, \word z$ \\
	Können in einer Formel beliebig verschiedene Werte annehmen \\
	\medskip \pause
	
	\textbf{Konstanten} \, (endlich viele) \quad Alphabet $\CPL$ \\
	$\word{c}_i$ \quad $\word c, \word d$ \\
	Konstanter Wert in der gesamten Formel \\
	\medskip \pause
	
	\textbf{Funktionen} \, (endlich viele) \quad Alphabet $\FPL$ \\
	$\word{f}_i$ \quad $\word f, \word g, \word h$ \\
	Liefern Werte für irgendwelche Eingaben (wie gewohnt) \\
	Jedes $\word{f}_i$ hat Stelligkeit $\ar(\word{f}_i) \in \N_+$ \quad „Wieviel Argumente $\word{f}_i$ nimmt“ {\small (Arität)} \\
	\smallskip \pause
	
	Beispiel: 
	\quad Funktionen $\word f$ mit $\ar(\word f) = 2$, \quad $\word g$ mit $\ar(\word g) = 1$. \\ \pause
	\quad OK: \qquad \word{f(x,y)} \qquad \word{g(c)} \qquad \word{g(f(x,c))}
	\quad Kaputt: \qquad \word{f(c)} \qquad \word{g(x,y,z)} \qquad \word{f(x,y} \qquad \word{f(x,,}
\end{frame}

\begin{frame}{Atomare Formeln}
	Zusammengesetzt aus... \\
	\medskip
	
	\textbf{Termen} (von eben) als Argumente in \\
	\medskip
	
	\textbf{Relationen} \, (endlich viele) \quad Alphabet $\RPL$  \\
	$\pleq$ und beliebige $\word R_i$ \quad $\word R, \word S$ \\
	Liefern Wahrheitswerte in $\BB = \set{\W, \F}$ \\
	Haben auch Stelligkeit $\ar(\word R_i) \in \N_+$ \\
	\medskip \pause
	
	Beispiele: \quad Relationen \word R mit $\ar(\word R) = 1$, \quad \word S mit $\ar(\word S) = 2$ \\
	\quad $\word x \pleq \word c$ \qquad $\word{g(x)} \pleq \word{g(y)}$ \qquad $\word{R(g(c))}$ \qquad $\word{S(x,f(x,y))}$
	\medskip \pause
	
	Relationen und Funktionen können \textbf{nur mit Termen} aufgerufen werden! \\
	\impl \quad \word{R(S(x,y))} \qquad \word{g(S(x))} \qquad $\word{R(x)} \pleq \word{S(x,y)}$ \qquad $\word x \pleq \word{(}\word y \pleq \word z\word{)}$ \\
	Alles \textbf{falsch}!
\end{frame}

\begin{frame}{Prädikatenlogische Formeln}
	Bestehen aus... \\
	\medskip
	
	\textbf{Atomaren Formeln} (von eben) \\
	\medskip
	
	\textbf{AL-Konnektiven} \\
	$\alnot, \aland, \alor, \alimpl$ und Klammern {\small (einsparbar)} \\
	Verknüpfen PL-Formeln \\
	\medskip \pause
	
	\textbf{Quantoren} \\
	$\plall$ All-Quantor \quad $\plexist$ Existenz-Quantor \\
	Verwendung: $\bleftBr\plall \word x_i \text{...Formel...}\brightBr$ \quad $\bleftBr\plexist \word x_i \text{...Formel...}\brightBr$ \\
	\impl NUR \textbf{Variablen} können quantifiziert werden! \\
	\medskip 
	
	Klammerregeln: Wie bei AL-Formeln; Quantoren binden stärker als alles andere.
	\bigskip \pause
	
	\textbf{Falsch}: \\
	$\bleftBr\plexist \word c \text{...Formel...}\brightBr$ mit $\word c \in \CPL$ \quad \word c keine Variable! \\
	$\bleftBr\plall \word x \word{:} \text{...Formel...}\brightBr$ \quad KEINE Doppelpunkte! \\
\end{frame}

\begin{frame}{Aufgabe: Syntaktische Fehler}
	Findet jeweils den syntaktischen Fehler in den folgenden prädikatenlogischen Formeln:
	\begin{itemize}
		\item $\plexists \word z \: \plka \word{c(z)} \plkz$\\
		\visible<2-|handout:2>{Konstanten (\word c) sind keine Relationen!}
		\item $\word{S(c)} \aland \word{T(d)} \alimpl \word{S(R(c,d))}$\\
		\visible<3-|handout:2>{Nur Terme als Argumente, keine Relationen (\word{R(c,d)}).}
		\item $\plall \plx \plall \ply \: \word{R(f(x,f(y)))}$\\
		\visible<4-|handout:2>{$\ar(\word f) = 1$ oder $\ar(\word f) = 2$, aber nicht beides gleichzeitig.}
		\item $\plall \plx \: \plka \word{S(x)} \aland \word{T(x)} \plkz \alimpl \plexists \word R \: \plka \plall \plx \: \word{R(x,x)} \plkz $\\
		\visible<5-|handout:2>{Relationen können nicht quantifiziert werden ($\plexists \word R$).}
		\item $\plall \word f \: \word{S(f)} \aland \plall \plx \: \word{g(R(x))}$\\
		\visible<6-|handout:2>{Nur Terme als Argumente, keine Relationen (\word{R(x)}).\\
		Hinweis: $\plall \word f \: \word{S(f)}$ ist \emph{erlaubt}. Hier ist $\word f$ nur eine Variable, \word f muss nicht immer eine Funktion sein. Hier wird nirgends \word f „aufgerufen“ (\word{f(}...\word{)}).}
	\end{itemize}
\end{frame}

\begin{frame}{Formeln aufstellen}
	\begin{Beispiel}
		Alle Menschen lieben Weihnachten.\\ % Aber Gänse eher nicht...
		\medskip
		
		\pause
		$\plall \plx \; {\plka \word{Mensch(x)} \alimpl \word{liebt(x,Weihnachten)} \plkz}$
	\end{Beispiel}
% TODO: Zweites Beispiel (evtl. aus Übung klauen)
\end{frame}

\begin{frame}{Aufgabe 2 (WS 15/16, Blatt 7)}
	\begin{block}{Aufgabe}
		Formuliert die folgenden Aussagen als Formeln in Prädikatenlogik:
		\begin{enumerate}
			\item Nicht alle Vögel können fliegen.
			\item Wenn es irgendjemand kann, dann kann es Donald Ervin Knuth.
			\item John liebt jeden, der sich nicht selbst liebt.
		\end{enumerate}
	\end{block}
	
	\visible<2-|handout:2>{
		\begin{block}{Lösung}
			\begin{enumerate}
				\item \qqquad $\plexist \plx {\plka \plfoo{Vogel}{\plka \plx \plkz} \aland \alnot \plfoo{flugfähig}{\plka \plx \plkz} \plkz}$
				\visible<3-|handout:2>{
					\item \qqquad $
					\plexist \plx {\plka \plfoo{kann\_es}{\plka \plx \plkz} \plkz}
					\alimpl
					\plfoo{kann\_es}{\plka \plfoo{knuth} \plkz}
					$
				}
				\visible<4-|handout:2>{
					\item \qqquad $
					\plall \plx {\plka \alnot \plfoo{liebt}{\plka \plx \plcomma \plx \plkz} \alimpl \plfoo{liebt}{\plka \plfoo{John} \plcomma \plx \plkz} \plkz}
					$
				}
			\end{enumerate}
		\end{block}
	}
\end{frame}

\begin{frame}{Freie und gebundene Variablenvorkommen}
	\textbf{Vorkommen} einer Variable in einer PL-Formel: \\
	$G = \plall \word{x\,R(\underline{x})}$ \Impl \word x kommt in $G$ vor. \\
	„Direkt hinter Quantoren“ zählt nicht! \\
	Bsp.: $F = \plall \word{x\,R(c)}$ \Impl \word x kommt \textbf{nicht} in $F$ vor! \\
	\medskip \pause
	
	\textbf{Freie Variablenvorkommen} \quad $\fv(F)$ \\
	Alle, die \emph{irgendwo} in $F$ vorkommen, ohne dass sie quantifiziert sind {\small ($=$ ein Quantor sie einführt)}. \\
	\smallskip \pause
	Beispiel: $\fv\left(\word{R(\underline{x},\underline{y},c)} \aland \plexist \word x\, \plka \word x \pleq \underline{\word y} \plkz \right) = \set{\word x, \word y}$ \\
	\medskip \pause
	
	\textbf{Gebundene Variablenvorkommen} \quad $\bv(F)$ \\
	Alle, die \emph{irgendwo} in $F$ vorkommen und dabei quantifziert sind. \\
	\smallskip \pause
	Beispiel: $\bv\left(\word{R(x,y,c)} \aland \plexist \word x\, \plka \underline{\word x} \pleq \word y \plkz \right) = \set{\word x}$ \\
	\medskip \pause
	
	Formel $F$ heißt \textbf{geschlossen} $:\!\!\Gdw \fv(F) = \emptyset$\\
	\medskip 

\end{frame}

\begin{frame}{Freie und gebundene Variablenvorkommen}
	\begin{equation*}
	F = \plexist \plx \, \plE{\plka \plx \plcomma \ply \plkz}
		\, \alor \,
		\plall \plz \, \plall \plx \, \plall \ply \, {\plka
			\plE{\plka \plx \plcomma \plz \plkz} \aland \plE{\plka \ply \plcomma \plz \plkz}
		\plkz}
	\end{equation*}
	
	\begin{block}{Aufgabe}
		Welche Variablenvorkommen sind frei ($\fv$) und welche gebunden ($\bv$)?\\
		Ist die Formel geschlossen?
	\end{block}

	\pause
	\begin{block}{Lösung}
		Nur die Variable $\fv(F) = \{\ply\}$ kommt frei in $F$ vor.\\
		Genau die Variablen $\bv(F) = \{\plx, \ply, \plz\}$ kommen gebunden in $F$ vor.\\
		Da $\fv(F) \neq \emptyset$, ist $F$ nicht geschlossen.
	\end{block}
	
\end{frame}

\mycomment{
\begin{frame}{Substitutionen}
	\delimitershortfall=0pt
	Wollen \textbf{Variablen} (!) durch andere Terme ersetzen. \\
	\impl Eine Substitutionsabbildung $$\sigma_S \from \LFor \functionto \LFor, \quad \text{längliche Definition s. VL}$$ wendet Ersetzungen aus $S$ auf eine Formel an. \\
	\medskip \pause
	
	Beispiel: \\
	$\sigma_{\set{\word x/\word y}}\left(\word x \pleq \word c\right) = \word y \pleq \word c$. \\
	$\sigma_{\set{\word x/\word{f(c)}}}\left(\word{R(x,y)} \aland \plexists  \word y\,\plka\word y \pleq \word x \plkz\right) = \word{R(\word{f(c)},y)} \aland \plexists  \word y\,\plka\word y \pleq \word{f(c)\plkz}$. \\
	\medskip \pause
	
	Mehrere auf einmal: \\
	$\sigma_{\set{\word x/\word y, \, \word y/\word x}}\left(\word x \pleq \word y\right) = \word y \pleq \word x$.
\end{frame}


\begin{frame}{Substitutionen}
	\delimitershortfall=0pt
	Ersetzt werden nur \textbf{freie Variablenvorkommen}!\\
	Gebundene Vorkommen, also Variablen im Wirkungsbereich eines (eigenen) Quantors, werden \textbf{nicht} ersetzt. \\
	\medskip \pause
	
	Beispiel: \\
	$\sigma_{\set{\word y/\word{f(c)}}}\left(\word{R(x,y)} \aland \plexists \word y\, \plka\word y \pleq \word x \plkz\right) = \word{R(x,\word{f(c)})} \aland \plexists \word y\,\plka\word y \pleq \word x \plkz$
	
\end{frame}

\begin{frame}{Substitutionen: Kollisionsfreiheit}
	Bei einer \textbf{kollisionsfreien} Substitution werden keine Variablen durch Ersetzung \enquote{aus Versehen} gebunden.  \\
	\medskip
	Ersetzen wir eine freie Variable $\word x$ durch einen Term, in dem die Variable $\word y$ frei vorkommt, so darf sich $\word x$ nicht im Wirkungsbereich eines Quantors über $\word y$ befinden. \\
	(Sonst wird \word y nämlich unfreiwillig quantifiziert und die Bedeutung ändert sich!)
	
	\pause
	\begin{Beispiel}
		$F = \plall \plx \plka\plx \pleq \ply\plkz$\\
		Kollisionsfrei: $\sigma_{\{\ply/\plz\}}(\plall \plx \plka\plx \pleq \ply\plkz) = \plall \plx \plka\plx \pleq \underline{\plz}\plkz$\\
		Nicht kollisionsfrei: $\sigma_{\{\ply/\plx\}}(\plall \plx \plka\plx \pleq \ply\plkz) = \plall \plx \plka\plx \pleq \underline{\plx}\plkz$ 
	\end{Beispiel}
\end{frame}

\begin{frame}{Substitutionen: Aufgabe}
	$F = \alnot \plexist \plx {\plka \plE{\plka \plx \plcomma \ply \plkz}\plkz}$\\
	$G = \plall \plx \plall \ply {\plka 
			\plE{\plka \plx \plcomma \plz \plkz} \aland 
			\plE{\plka \ply \plcomma \plz \plkz} \plkz}$
	\medskip
	
	Gebt jeweils eine Substitution $\sigma$ an, die \emph{nicht} kollisionsfrei für $F$ bzw. $G$ ist.\\[1em] \pause
		
	\impl Die Substitution $\sigma_{\{\ply/\plx\}}$ macht $F$ kaputt.\\ \pause
	\impl Die Substitutionen $\sigma_{\{\plz/\plx\}}$ oder $\sigma_{\{\plz/\ply\}}$ machen $G$ kaputt.
	
\end{frame}

}