\section{Von der Darstellung zur Zahl}

\subsection{Definitionen}
\begin{frame}{Numerischer Wert einer Ziffernfolge}
	\begin{Definition}
		Zu einer Zahlenbasis $b$ definiere 
		\begin{align*}
			\fnum_b &\from Z_b \functionto \Z \\
			\fnum_b(x) &:= x \text{ (als Zahl)} \quad \text{für einzelne Ziffern $x \in Z_b$} \\
			& \\
			\fNum_b &\from Z_b^* \functionto \Z \\
			\fNum_b(\eps) &:= 0 \\
			\fNum_b(wx) &:= b\cdot \fNum_b(w) + \fnum_b(x) \quad \text{ für alle } w\in Z_b^\ast, x\in Z_b. 
		\end{align*}
	\end{Definition}

	\pause
	\textbf{Hinweis}: $\fNum_b$ ist eine Abbildung, die einem Wort (Zahlendarstellung) eine Zahl (Wert) zuordnet. \\
	Wir schreiben für die Zahl aber wieder eine Darstellung hin (nämlich im Dezimalsystem).
\end{frame}
\begin{frame}{Aufgabe}
	Berechnet die Zahlenwerte von $ \word{11}_2, \word{321}_4, \word{B2}_{16}$.
	\begin{align*} 
	\fNum_2(\word{11}) &= \visible<2->{2\cdot \fNum_2(\word 1) + \fnum_2(\word 1) \\
	&= 2\cdot 1 + 1 \\
	&= 3  \\}
	\visible<3->{\fNum_4(\word{321}) &=} \visible<4->{ 4\cdot \fNum_4(\word{32}) + \fnum_4(\word 1) \\
	&= 4\cdot \left( 4\cdot \fNum_4(\word 3) + \fnum_4(\word 2) \right) + \fnum_4(\word 1) \\
	&= 4^2\cdot \fnum_4(\word 3) + 4 \cdot \fnum_4(\word 2) + \fnum_4(\word 1) \\
	&= 57 \\}
	\visible<5->{\fNum_{16}(\word{B2}) &=} \visible<6->{ 16 \cdot \fNum_{16}(\word B) + \fnum_{16}(\word 2) \\
	&= 16\cdot 11 + 2 \\
	&= 178}
	\end{align*}

\end{frame}

\mycomment{  % man sieht hier nicht viel...
	\begin{frame}{Wohldefiniertheit}
		\emph{Behauptung}: Die Definition 
			$$ \fNum_b(\eps) = 0  $$  
			$$ \fNum_b(wx) = b\cdot \fNum_b(w) + \fnum_b(x) \text{ für alle } w\in Z_b^\ast, x\in Z_b $$ 
			ist wohldefiniert und weist jedem Wort eine eindeutige Bedeutung zu, die dem Zahlenwert entspricht.
	\end{frame}
	\begin{frame}{Beweis}
		\begin{block}{Beweis durch vollständige Induktion über $n=\vert w \vert $}
		\begin{itemize}
			\only<1-2>{\item<1->[{IA.:}] $n = 0 = \vert w \vert \implies w = \eps $. \\
			Für $w = \eps $ ist $\fNum_b$ wohldefiniert und sinnvoll (nämlich $\fNum_b(\eps) = 0$).
			\item<2->[{IV.:}] Für ein beliebig aber festes $n\in\N_0$ sei $\fNum_b(w)$ für alle $w$ mit $\setsize{w} = n$ wohldefiniert und entspreche dem Zahlenwert. }
			\only<3->{\item<3->[{IS.:}] Wähle $w'$ mit $\vert w' \vert = n+1 $, dann gibt es ein $w\in Z_b^n, x\in Z_b$, so dass $ w' = wx $ \\
			Mit der Definition gilt nun $$ \fNum_b(w') = b\cdot {\underbrace{\fNum_b(w)}_{IV}} + \fnum_b(x) $$
			Die Summe ist laut $IV$ wohldefiniert. Auch ist laut $IV$ $\fNum_b(w)$ der Zahlenwert von $w$ und damit auch $\fNum_b(w')$.}
		\end{itemize}
		\end{block}
	
	\end{frame}
}

%\subsection{Aufgabe}
%\begin{frame}{Aufgabe. WS 2010 }
%Es bezeichne $\Z$ die Menge der ganzen Zahlen. Gegeben sei eine Ziffernmenge $Z_{-2} = \{N, E\}$ mit der Festlegung $num_2 (N) = 0$ und $num_2 (E) = 1$. Wir definieren eine Abbildung $\fNum_{-2} : Z_{-2}^\ast \functionto \Z$ wie folgt:
%	$$\fNum_{-2} (\eps) = 0$$
%	$$\forall \ w \in Z_{-2}^\ast \ \forall \ x \in Z_{-2} : \fNum_{-2} (wx) = -2 \cdot \fNum_{-2} (w) + num_2 ( x )$$
%
%	\begin{itemize}	
%		\item Geben Sie für $w \in \{E, EN, EE, ENE, EEN, EEE\}$ jeweils $\fNum_{-2} (w)$ an.
%		\item Für welche Zahlen $x \in \Z$ gibt es ein $w \in Z_{-2}^\ast$ mit $\fNum_{-2} (w) = x$?
%	\end{itemize}
%\end{frame}
%
%\begin{frame}{Lösung}
%\textit{Geben Sie für $w \in \{E, EN, EE, ENE, EEN, EEE\}$ jeweils $\fNum_{-2} (w)$ an.} \pause
%	\begin{table}[h!]	
%		\begin{tabular}{>{$}l<{$}>{$}l<{$}}
%			\fNum_{-2} (E)\pause & = 1 \\ \pause 
%			\fNum_{-2} (EN)\pause & = -2 \\ \pause
%			\fNum_{-2} (EE)\pause & = -1 \\ \pause
%			\fNum_{-2} (ENE)\pause & = 5 \\ \pause
%			\fNum_{-2} (EEN)\pause & = 2 \\ \pause
%			\fNum_{-2} (EEE)\pause & = 3
%	\end{tabular}
%	\end{table}
%	\pause
%	\textit{Für welche Zahlen $x \in \Z$ gibt es ein $w \in Z_{-2}^\ast$ mit $\fNum_{-2} (w) = x$?} \\[1em]\pause
%	Für alle!
%\end{frame}

\section{Von der Zahl zur Darstellung}
\begin{frame}{Division und Modulo}
	\begin{block}{Definition}
		$ x \div y$ ist die ganzzahlige Division von x durch y.\\
		$ x \mod y$ liefert den Rest dieser Division.
	\end{block} 
	\pause
	
	\begin{block}{Beobachtung}
		$ x\div y \in \N_0, \qquad x\mod y \in \{0,\dots, y-1\} $
	\end{block}
	\pause
	
	\begin{Beispiel}
		\begin{tabular}{c|cccc|cccc}
			$y$ & \multicolumn{4}{c|}{2} & \multicolumn{4}{c}{3} \\
			$x$ & 1 & 2 & 5 & 8 & 1 & 2 & 5 & 8 \\ \pause
			$x\div y$ & 0 & 1 & 2 & 4 & 0 & 0 & 1 & 2 \\
			$x\mod y$ & 1 & 0 & 1 & 0 & 1 & 2 & 2 & 2 \\
		\end{tabular}
	\end{Beispiel}
	
\end{frame}

\begin{frame}{Division und Modulo}

	\begin{block}{Lemma}
		$$ x = y \cdot (x \div y ) + \left( x \mod y \right)$$ 
	\end{block}

	\begin{Beispiel}
		Für $y = 4$: \\
		\begin{table}[h!]
			\centering
			\begin{tabular}{c|cccccccccccc}
				$x$ & 0 & 1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 & 10 & 11 \\ 
				\hline
				$x\div 4 $ & \only<2->{0 & 0 & 0 & 0 & 1 & 1 & 1 & 1 & 2 & 2 & 2 & 2 } \only<1|handout:0>{&&&&&&&&&&&} \\
				$4 \* \left( x\div 4\right) $ & \only<3->{0&0&0&0&4&4&4&4&8&8&8&8} \only<1-2|handout:0>{&&&&&&&&&&}  \\ 
				$x\mod 4$ & \only<4->{0&1&2&3&0&1&2&3&0&1&2&3} \only<1-3|handout:0>{&} \\
				\hline
				$4 \* \left( x\div 4\right) + x \mod 4 $ & \only<5->{0 & 1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 & 10 & 11} \only<1-4|handout:0>{&&&&&&&&&&}
			\end{tabular}
		\end{table}
	\end{Beispiel}

	% \visible<5-> {$ \Impl$ \enquote{Beweis durch Beispiel} :P \qed}  % Too misleading. Mündlich ok.

\end{frame}

\begin{frame}{Repräsentation von Zahlen}
	Wir definieren
	\begin{threealign}
	\fRepr_k \from \; \N_0 &\functionto& Z_k^*,  \\
	n &\mapsto& \begin{cases} \frepr_k(n), & n<k \\ \fRepr_k\left( n\div k \right) \cdot \frepr_k\left( n \mod k \right), & n\geq k 
	\end{cases}.
	\end{threealign}
	\pause
	\begin{block}{Es gilt}
		$\fRepr_k(n)$ ist das kürzeste Wort $w\in Z_k^\ast$ mit $\fNum_k(w)=n$, also 
		$$ \fNum_k\left( \fRepr_k(n)\right) = n. $$ 
	\end{block}
	\pause
	\emph{Anmerkung}:
	Im Allgemeinen ist $$ \fRepr_k\left(\fNum_k(w)\right) \neq w, $$ da überflüssige Nullen in $w$ wegfallen können. 
\end{frame}

% \begin{frame}{Exkurs: Euklid-Schema / Horner-Schema}
% 	\def\r{\text{ Rest }}
% 	\only<all:1>{
% 		\begin{block}{Euklid-Schema}
% 			\textcolor{blue}{Größte \enquote{noch reinpassende} Potenz} ermitteln. Dann durch alle absteigenden Potenzen teilen, \textbf{Ganzzahlteil} ergibt Ziffern. \underline{Rest} wird jeweils in die nächste Zeile übernommen. \\
% 			Beispiel: \quad $29_{10} = ???_3$
% 			\begin{align*}
% 				\text{Es gilt: } \quad \color{blue}{3^3} &\leq 29 < 3^4 \\
% 				{\Impl} 29 : \color{blue}{3^3} &= \textbf{1} \r \underline{2} \\
% 				\underline{2} : 3^2 &= \textbf{0} \r \underline{2} \\
% 				\underline{2} : 3^1 &= \textbf{0} \r \underline{2} \\
% 				\underline{2} : 3^0 &= \textbf{2} \r 0 
% 			\end{align*}
% 			\Impl $29_{10} = 1002_3$
% 		\end{block}
% 	}
% 	\only<all:2->{
% 		\begin{block}{Horner-Schema}
% 			Durch die Ziel-Basis teilen, Rest ergibt Ziffern \textbf{rückwärts}. \\
% 			\begin{align*}
% 				29 : 3 	 &= \underline{9} \r \textbf{2} \\
% 				\underline{9} : 3 &= \underline{3} \r \textbf{0} \\
% 				\underline{3} : 3 &= \underline{1} \r \textbf{0} \\
% 				\underline{1} : 3 &= 0 \r \textbf{1} 
% 			\end{align*}
% 			\Impl $29_{10} = 1002_3$ \quad (die Reste rückwärts!)
% 		\end{block} \only<+>{} \pause \medskip
% 		\Impl $\fRepr_k$ implementiert genau das Horner-Schema! \smiley
% 	}
% \end{frame}

\begin{frame}{Repräsentation von Zahlen}
	\begin{threealign}
	\fRepr_k : \; \N_0 &\functionto& Z_k^*,  \\
	n &\mapsto& \begin{cases} \frepr_k(n), & n<k \\ \fRepr_k\left( n\div k \right) \cdot \frepr_k\left( n \mod k \right), & n\geq k 
	\end{cases}
	\end{threealign}
	
	\begin{block}{Aufgabe}
 % mit dem Horner-Schema+
 
		Berechnet folgende Darstellungen:\\
		$\fRepr_2(42) = \only<2->{\word{101010}}$ \\
		$\fRepr_4(42) = \only<3->{\word{222}}$ \\
		$\fRepr_8(42) = \only<4->{\word{52}}$ \\
		$\fRepr_{16}(42) = \only<5->{\word{2A}}$
	\end{block}
\end{frame}

\begin{frame}{Beispiel: ausführl. Lösung}
	\begin{align*}
		\fRepr_8(42) &= \fRepr_8(42 \div 8) \cdot \frepr_8(42 \mod 8) \\
		&= \fRepr_8(5) \cdot \frepr_8(2)\\
		&= \frepr_8(5) \cdot \word 2\\
		&= \word 5 \cdot \word 2\\
		&= \word{52}_8\thassedaniel{}{.}
	\end{align*}
\end{frame}
